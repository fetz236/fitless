"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}var o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},s=function(e){if(e<0||e>11)throw new Error("Invalid month number: "+e);return o[e]},i=function(e){var t=e.month,r=e.year,a=e.nextMonth;return n.createElement("div",{className:"sdp--month-picker"},n.createElement("button",{className:"sdp--square-btn sdp--square-btn__shadowed",onClick:e.prevMonth,"aria-label":"Go to previous month",type:"button"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 256 256"},n.createElement("rect",{width:"256",height:"256",fill:"none"}),n.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))),n.createElement("p",{className:"sdp--text sdp--month-name","aria-label":s(t)+" "+r+" is currently open in Date Picker",tabIndex:0},s(t)," ",r),n.createElement("button",{className:"sdp--square-btn sdp--square-btn__shadowed",onClick:a,"aria-label":"Go to next month",type:"button"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 256 256"},n.createElement("rect",{width:"256",height:"256",fill:"none"}),n.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))))},l={weekday:"long",month:"long",day:"numeric",year:"numeric"},u=function(e){var n=e.date,r=e.active,a=e.onClick,o=e.selected;return t.createElement("button",{className:"sdp--square-btn sdp--date-btn "+(o?"sdp--date-btn__selected":"")+" sdp--text "+(r?"":"sdp--text__inactive"),onClick:function(){return a(n)},tabIndex:r?0:-1,"aria-label":(o?"Currently selected":"Select")+" "+n.toLocaleDateString("en-US",l),type:"button"},n.getDate())},c=t.memo(u,(function(e,t){return e.date.getDay()===t.date.getDay()&&e.active===t.active&&e.selected===t.selected}));function d(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}d(".sdp{background-color:#fff;border:none;border-radius:.5rem;box-shadow:var(--shadow);padding:.75rem;width:16rem}.sdp--month-name:focus,.sdp--square-btn:focus,.sdp:focus{box-shadow:0 0 0 2px #60a5fab3;outline:none}.sdp--month-name{border:none;border-radius:.5rem;padding:.5rem}.sdp--text{font-family:var(--font);font-weight:500;margin:0}.sdp--text__inactive{color:var(--disabled-color);pointer-events:none}.sdp--square-btn{align-items:center;background-color:#fff;border:none;border-radius:.5rem;cursor:pointer;display:flex;font-family:var(--font);height:1.8rem;justify-content:center;transition:all .2s ease-in-out;width:1.8rem}.sdp--square-btn:focus:hover{box-shadow:none}.sdp--square-btn__shadowed,.sdp--square-btn__shadowed:focus:hover{box-shadow:var(--shadow)}.sdp--date-btn__selected{background-color:var(--theme-color);box-shadow:var(--shadow);color:var(--selected-date-color)}.sdp--date-btn__selected.sdp--square-btn:focus{box-shadow:var(--shadow)}.sdp--month-picker{align-items:center;display:flex;justify-content:space-between}.sdp--dates-grid{display:grid;gap:4px;grid-template-columns:repeat(7,1fr);justify-items:center;margin:.5rem 0 0}.sdp--dates-grid>p.sdp--text{padding:.5rem 0}");var p=["onChange","selected","minDate","maxDate","className"],m=n.forwardRef((function(e,t){var r=e.onChange,o=e.selected,s=void 0===o?new Date:o,l=e.minDate,u=void 0===l?new Date(1900,0,1):l,d=e.maxDate,m=e.className,f=a(e,p),h=u.getTime(),v=void 0===d?Number.POSITIVE_INFINITY:d.getTime(),b=n.useState(s),g=b[0],x=b[1],w=n.useState(s),_=w[0],y=w[1],k=n.useCallback((function(){return x((function(e){var t=e.getMonth(),n=e.getFullYear();return 11===t?new Date(n+1,0):new Date(n,t+1)}))}),[]),E=n.useCallback((function(){return x((function(e){var t=e.getMonth(),n=e.getFullYear();return 0===t?new Date(n-1,11):new Date(n,t-1)}))}),[]),N=n.useCallback((function(e){y(e),null==r||r(e)}),[r,y]);return n.createElement("div",Object.assign({className:"sdp "+(null!=m?m:""),"aria-label":"Date Picker",tabIndex:0,ref:t},f),n.createElement(i,{month:g.getMonth(),year:g.getFullYear(),nextMonth:k,prevMonth:E}),n.createElement("div",{className:"sdp--dates-grid"},n.createElement("p",{className:"sdp--text sdp--text__inactive"},"Su"),n.createElement("p",{className:"sdp--text sdp--text__inactive"},"Mo"),n.createElement("p",{className:"sdp--text sdp--text__inactive"},"Tu"),n.createElement("p",{className:"sdp--text sdp--text__inactive"},"We"),n.createElement("p",{className:"sdp--text sdp--text__inactive"},"Th"),n.createElement("p",{className:"sdp--text sdp--text__inactive"},"Fr"),n.createElement("p",{className:"sdp--text sdp--text__inactive"},"Sa"),function(e){for(var t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0),r=t.getDay(),a=n.getDay(),o=new Date(e.getFullYear(),e.getMonth(),0),s=new Date(o.getFullYear(),o.getMonth()+1,0),i=new Date(e.getFullYear(),e.getMonth()+2,0),l=[],u=0;u<r;u++)l.push({d:new Date(o.getFullYear(),o.getMonth(),s.getDate()-r+u+1),active:!1});for(var c=0;c<n.getDate();c++)l.push({d:new Date(e.getFullYear(),e.getMonth(),c+1),active:!0});for(var d=0;d<6-a;d++)l.push({d:new Date(i.getFullYear(),i.getMonth(),d+1),active:!1});return l}(g).map((function(e){var t=e.d,r=e.active,a=t.getTime();return n.createElement(c,{key:a,date:t,active:a>=h&&a<=v&&r,selected:_.toDateString()===t.toDateString(),onClick:N})}))))}));m.displayName="DatePicker",d('.sdp,.stp{--font:inherit,-apple-system,"Segoe UI",Ubuntu,"Helvetica Neue",sans-serif;--shadow:transparent 0px 0px 0px 0px,transparent 0px 0px 0px 0px,rgba(0,0,0,.1) 0px 1px 3px 0px,rgba(0,0,0,.06) 0px 1px 2px 0px;--shadow-md:transparent 0px 0px 0px 0px,transparent 0px 0px 0px 0px,rgba(0,0,0,.1) 0px 4px 6px -1px,rgba(0,0,0,.06) 0px 2px 4px -1px;--theme-color:#60a5fa;--selected-date-color:#fff;--disabled-color:#bdbdbd}');var f=function(e){var t=e.selected,r=e.value,a=e.label,o=e.onClick,s=e.disabled,i=n.useRef(null);return n.useEffect((function(){var e;t&&(null==(e=i.current)||e.scrollIntoView())}),[t]),n.createElement("button",{ref:i,className:"stp--option "+(t?"stp--option__active":"")+" "+(s?"stp--option__disabled":""),type:"button",onClick:function(){return!s&&o(r)},key:r},a)},h=function(e){var t=e.value,r=e.options,a=e.onChange,o=e.children,s=n.useRef(null),i=n.useState(!1),l=i[0],u=i[1],c=n.useCallback((function(){u(!0)}),[]),d=n.useCallback((function(){u(!1)}),[]),p=n.useCallback((function(e){a(e),d()}),[a,d]);return n.useEffect((function(){if(n.Children.toArray(o).some((function(e){return"string"!=typeof e})))throw new Error("time-picker: CustomSelect children must be strings")}),[o]),n.useEffect((function(){var e=function(e){var t;null!=(t=s.current)&&t.contains(e.target)||d()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[d]),n.createElement("div",{className:"stp--select__container"},n.createElement("div",{ref:s,className:"stp--select",tabIndex:0,onClick:c,onFocus:c},t),l&&n.createElement("div",{className:"stp--select__dropdown"},r.map((function(e){var r=e.value,a=r[0];return n.createElement(f,{key:a,selected:a===t,value:a,label:r[1],onClick:p,disabled:e.disabled})}))))};d(".stp{border:none;border-radius:.5rem;box-shadow:var(--shadow);display:inline-flex;font-family:var(--font);padding:.5rem}.stp,.stp *{outline:none}.stp:focus,.stp :focus{box-shadow:0 0 0 2px #60a5fab3}.stp>p{display:inline;margin:0 4px}.stp--select{border:none;border-radius:.25rem;display:inline;padding:.1rem .4rem}.stp--select__container{position:relative}.stp--select__dropdown{background-color:#fff;border:none;border-radius:.5rem;box-shadow:var(--shadow);display:flex;flex-direction:column;max-height:30vh;overflow:auto;padding:.4rem;position:absolute;scrollbar-width:none;z-index:2}.stp--select__dropdown::-webkit-scrollbar{display:none}.stp--option,.stp--select{font-family:var(--font);font-size:1rem;font-weight:500}.stp--option__disabled{color:var(--disabled-color);pointer-events:none}.stp--select:hover{cursor:context-menu}.stp--option{background-color:#fff;border:none;border-radius:.25rem;cursor:pointer;margin-top:.25rem;padding:.25rem .4rem;transition:all .1s ease}.stp--option:first-of-type{margin-top:0}.stp--option:hover,.stp--option__active{background-color:var(--theme-color);color:var(--selected-date-color)}.stp--option__active{box-shadow:var(--shadow)}");var v=["onChange","selected","minTime","maxTime","minutesInterval","className"],b=function(e,t,n){var r=e.minutes;return void 0===n&&(n=!0),r%t!=0&&(r=n?r-r%t:r+r%t),{hours:e.hours,minutes:r}},g=function(e,t,n,r){return e.hours>t.hours||e.hours<n.hours||e.hours===t.hours&&r>t.minutes||e.hours===n.hours&&r<n.minutes},x={hours:0,minutes:0},w={hours:23,minutes:59},_=n.forwardRef((function(e,t){var o=e.onChange,s=e.selected,i=e.minTime,l=void 0===i?x:i,u=e.maxTime,c=void 0===u?w:u,d=e.minutesInterval,p=void 0===d?30:d,m=e.className,f=a(e,v);if("number"!=typeof p&&p<1&&Number.isInteger(p))throw new Error("minutesInterval must be an integer greater than 0");var _=n.useState((function(){if(void 0!==s)return b(s,p);var e=new Date;return b({hours:e.getHours(),minutes:e.getMinutes()},p)})),y=_[0],k=_[1],E=n.useCallback((function(e){k((function(t){return t.hours===c.hours&&Number(e)>c.minutes?b(r({},t,{minutes:c.minutes}),p):t.hours===l.hours&&Number(e)<l.minutes?b(r({},t,{minutes:l.minutes}),p,!1):b(r({},t,{minutes:Number(e)}),p)}))}),[p,c,l]),N=n.useCallback((function(e){k((function(t){var n=Number(e);return n===l.hours&&t.minutes<l.minutes?b({hours:n,minutes:l.minutes},p,!1):b(n===c.hours&&t.minutes>c.minutes?{hours:n,minutes:c.minutes}:r({},t,{hours:n}),p)}))}),[p,c,l]),C=n.useMemo((function(){for(var e=[],t=0;t<60;t+=p)e.push({value:[t.toString(),t.toString().padStart(2,"0")],disabled:g(y,c,l,t)});return e}),[p,c,l,y.hours]),D=n.useMemo((function(){for(var e=[],t=0;t<=23;t++)e.push({value:[t.toString(),t.toString().padStart(2,"0")],disabled:l.hours>t||c.hours<t});return e}),[c,l]);return n.useEffect((function(){null==o||o(y)}),[y,o]),n.useEffect((function(){var e=b(y,p);k(e),null==o||o(e)}),[p]),n.createElement("div",Object.assign({className:"stp "+(null!=m?m:"")},f,{ref:t}),n.createElement(h,{className:"stp--select stp--select__hours",value:y.hours.toString().padStart(2,"0"),onChange:N,options:D}),n.createElement("p",null,":"),n.createElement(h,{className:"stp--select stp--select__minutes",value:y.minutes.toString().padStart(2,"0"),onChange:E,options:C}))}));_.displayName="TimePicker",exports.TimePicker=_,exports.default=m;
//# sourceMappingURL=sassy-datepicker.cjs.production.min.js.map
